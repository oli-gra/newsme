(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{322:function(e,t,n){e.exports=n(616)},375:function(e,t){},388:function(e,t){},390:function(e,t){},571:function(e,t){},615:function(e,t,n){},616:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),l=n.n(o),c=n(87),i=n(12),s=n(35),u=n(20),m=n.n(u),d=n(301),f=n(26),g=(n(354),n(617),{apiKey:"AIzaSyAFbIY2s1Xw030USr8q3oFu0uLjFtuMM88",authDomain:"newsme-070619.firebaseapp.com",databaseURL:"https://newsme-070619.firebaseio.com",projectId:"newsme-070619",storageBucket:"newsme-070619.appspot.com",messagingSenderId:"689435092877",appId:"1:689435092877:web:dcf194cc284eee61"}),p=n(183),h=n.n(p),E=n(302),b=n.n(E),v=n(680),w=n(663),N=n(662),y=n(618),j=Object(y.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:300}}}),O=function(e){var t=e.handleUrl,n=r.a.useRef(),a=j();return r.a.createElement("form",{className:a.container,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{id:"outlined-name",label:"News url",className:a.textField,onChange:function(e){return n=e.target.value},margin:"normal",variant:"outlined"}),r.a.createElement(N.a,null,r.a.createElement("div",{className:a.column}),r.a.createElement("div",{className:"rightbutton"},r.a.createElement(w.a,{variant:"contained",color:"secondary",size:"large",className:a.button,onClick:function(){return t(n)}},"Save"))))},k=n(666),x=n(303),C=n.n(x),S=n(304),L=n.n(S),F=n(665),I=n(664),R=Object(y.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:200},button:{margin:e.spacing(1)},fabProgress:{color:I.a[500],position:"absolute",top:-6,left:-6,zIndex:1},input:{display:"none"}}}),P=function(e){var t=e.handleFile,n=R(),a=r.a.useState(!1),o=Object(i.a)(a,2),l=o[0],c=o[1],s=r.a.useRef(),u=r.a.useRef();return r.a.createElement("form",{className:n.container,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t(s.current.files[0],u),e.target.reset()}},r.a.createElement(v.a,{id:"outlined-name",label:"title",className:n.textField,onChange:function(e){return u=e.target.value},ref:u,margin:"normal",variant:"outlined"}),r.a.createElement("input",{accept:"image/*",className:n.input,id:"outlined-button-file",type:"file",onChange:function(){return s.current.files[0]?c(!0):r.a.createElement(F.a,{size:68,className:n.fabProgress})},ref:s}),r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(k.a,{"aria-label":"Save",color:l?"default":"secondary",component:"span",className:n.button},l?r.a.createElement(C.a,null):r.a.createElement(L.a,null)),r.a.createElement(w.a,{variant:"contained",color:"secondary",className:n.button,size:"large",type:"submit"},"Save")))},U=n(685),W=n(668),A=n(667),B=n(65),D=n(53),z=n.n(D),_=Object(y.a)(function(e){return{heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"33.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)}}}),T=function(e){var t=e.handleUrl,n=e.handleFile,a=_();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"addnews"},r.a.createElement(U.a,{defaultExpanded:!0},r.a.createElement(A.a,{expandIcon:r.a.createElement(z.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement("div",{className:a.column},r.a.createElement(B.a,{className:a.heading},"Paste url"))),r.a.createElement(W.a,{className:a.details},r.a.createElement(O,{handleUrl:t})))),r.a.createElement("div",{className:"addnews"},r.a.createElement(U.a,null,r.a.createElement(A.a,{expandIcon:r.a.createElement(z.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement("div",{className:a.column},r.a.createElement(B.a,{className:a.heading},"Upload image"))),r.a.createElement(W.a,{className:a.details},r.a.createElement(P,{handleFile:n})))))},M=n(184),V=n(684),q=n(622),H=n(669),K=n(307),J=n.n(K),X=n(308),Y=n.n(X),$=n(9),G=n(306),Q=n.n(G),Z=Object(y.a)(function(e){return{search:Object(M.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object($.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($.c)(e.palette.common.white,.25)},width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(M.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),menuButton:{marginLeft:e.spacing(1)}}}),ee=function(e){var t=e.popmenu,n=e.searchNews,o=Z(),l=Object(a.useState)(""),c=Object(i.a)(l,2),s=c[0],u=c[1];return r.a.createElement("div",{className:"navbar"},r.a.createElement(q.a,{edge:"start",className:o.menuButton,color:"inherit","aria-label":"Open drawer",onClick:t},r.a.createElement(Q.a,null)),r.a.createElement("div",{className:o.search},r.a.createElement("div",{className:o.searchIcon},r.a.createElement(J.a,null)),r.a.createElement(V.a,{placeholder:"Find news or users",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"Search"},value:s,onChange:function(e){u(e.target.value),e.target.value.length>2&&n(e.target.value)}})),r.a.createElement("div",{className:o.sectionDesktop},r.a.createElement(q.a,{"aria-label":"new notifications",color:"inherit"},r.a.createElement(H.a,{badgeContent:9,color:"secondary"},r.a.createElement(Y.a,null)))))},te=n(670),ne=n(671),ae=n(63),re=n.n(ae),oe=n(135),le=n.n(oe),ce=n(309),ie=n.n(ce),se=Object(y.a)(function(e){return{margin:{margin:e.spacing(.1)},padding:{padding:e.spacing(0,1)},root:{backgroundColor:"rgba(30,30,30,0.8)"}}}),ue=function(e){var t,n,a=e.news,o=e.getNews,l=e.handlePostBox,c=e.handleNewsLike,s=se(),u=r.a.useState(!1),m=Object(i.a)(u,2),d=m[0],f=m[1],g=function(){return f(!d)},p={backgroundImage:"url("+a.image+")"};return d&&1!==a._id&&(t=r.a.createElement("div",{className:"newscardtitle"},a.title)),1!==a._id&&(n=r.a.createElement(te.a,{className:s.root},r.a.createElement(ne.a,{label:"Like",onClick:c,value:a.likes.length,icon:r.a.createElement(H.a,{className:s.margin,badgeContent:a.likes.length,color:"secondary"},r.a.createElement(re.a,null))}),r.a.createElement(ne.a,{label:"Post",onClick:l,value:a.posts.length,icon:r.a.createElement(H.a,{className:s.margin,badgeContent:a.posts.length,color:"secondary"},r.a.createElement(ie.a,null))}),r.a.createElement(ne.a,{label:"User",onClick:function(){return o(a.uid)},value:a.uid,icon:r.a.createElement(le.a,null)}))),r.a.createElement("div",{className:"newscard",style:p,onMouseEnter:g,onMouseLeave:g},t,r.a.createElement("div",{className:"newscardfoot"}),n)},me=function(e){var t=e.news,n=e.getNews,a=e.handlePostBox,o=e.handleNewsLike;return r.a.createElement("div",{className:"news-container"},null!==t?t.map(function(e){return r.a.createElement(ue,{key:e._id,news:e,getNews:n,handlePostBox:function(){return a(e._id)},handleNewsLike:function(){return o(e._id)}})}):null)},de=n(310),fe=n.n(de),ge=n(311),pe=n.n(ge),he=n(136),Ee=n.n(he),be=n(672),ve=n(673),we=n(614),Ne=n(686),ye=Object(y.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},button:{margin:e.spacing(1)},input:{display:"none"},heading:{marginLeft:e.spacing(3),marginTop:e.spacing(2)},profile:{width:"60%"},profilecontainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},avatar:{width:"4em",height:"4em"},wrapper:{display:"flex",justifyContent:"space-between"},column:{minWidth:"10%"},row:{display:"flex",flexDirection:"row"}}}),je=function(e){var t=e.fuser,n=e.postUser,o=e.getLikes,l=ye(),c=Object(a.useState)(""),s=Object(i.a)(c,2),u=s[0],d=s[1],g=Object(a.useState)(""),p=Object(i.a)(g,2),h=p[0],E=p[1],b=Object(a.useState)(""),N=Object(i.a)(b,2),y=N[0],j=N[1],O=Object(a.useState)(""),x=Object(i.a)(O,2),C=x[0],S=x[1],L=Object(a.useState)([]),F=Object(i.a)(L,2),I=F[0],R=F[1],P=Object(a.useState)([]),D=Object(i.a)(P,2),_=D[0],T=D[1],M=r.a.useRef();Object(a.useEffect)(function(){m.a.get("http://localhost:3003/user?uid="+t.uid).then(function(e){console.log(e),d(e.data.displayName),E(t.email),j(e.data.location),S(e.data.photoUrl),T(e.data.tags)}),o().then(function(e){return R(e.data.likes)}).catch(function(e){return console.log(e)})},[o,t.email,t.uid]);var V,q=function(){};return V=""===C?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{accept:"image/*",className:l.input,id:"outlined-button-file",type:"file",ref:M}),r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(k.a,{size:"large",color:"secondary",component:"span",className:l.button},r.a.createElement(Ee.a,null)))):r.a.createElement(we.a,{className:l.avatar},r.a.createElement("img",{src:C,alt:"avatar"})),r.a.createElement("div",{className:l.profilecontainer},r.a.createElement(be.a,{className:l.profile},r.a.createElement("div",null,r.a.createElement(B.a,{className:l.heading},"stats")),r.a.createElement("div",{className:l.wrapper},r.a.createElement(ve.a,{className:l.column},V),r.a.createElement(ve.a,{className:l.column},_.map(function(e){return r.a.createElement(Ne.a,{key:e,label:e,onDelete:q,className:l.chip,color:"secondary"})}))),r.a.createElement(ve.a,{className:l.row},r.a.createElement("div",{className:l.button},r.a.createElement(H.a,{badgeContent:I,color:"secondary"},r.a.createElement(re.a,null)),r.a.createElement("span",{className:l.textField},"likes")),r.a.createElement("div",{className:l.button},r.a.createElement(H.a,{badgeContent:null,color:"secondary"},r.a.createElement(fe.a,null)),r.a.createElement("span",{className:l.textField},"follows")),r.a.createElement("div",{className:l.button},r.a.createElement(H.a,{badgeContent:null,color:"secondary"},r.a.createElement(pe.a,null)),r.a.createElement("span",{className:l.textField},"blasts")))),r.a.createElement(U.a,{className:l.profile},r.a.createElement(A.a,{expandIcon:r.a.createElement(z.a,null),"aria-controls":"panel1c-content",id:"panel1c-header",className:"profilerow"},r.a.createElement(B.a,null,"private")),r.a.createElement(W.a,{className:"profilecolumn"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),M.current.files[0]){var a=f.storage().ref(),r=a.child(M.current.files[0].name);r.put(M.current.files[0]).then(function(){return console.log("\u2705 uploaded ".concat(r.fullPath))}).then(function(){return a.child(M.current.files[0].name).getDownloadURL()}).then(function(e){console.log(e);var a={uid:t.uid,displayName:u,email:h,location:y,photoUrl:e};n(a)})}}},r.a.createElement(v.a,{id:"outlined-name",label:"name",className:l.textField,value:u,onChange:function(e){return d(e.target.value)},margin:"normal",variant:"outlined"}),r.a.createElement(v.a,{disabled:!0,id:"outlined-disabled",label:h,className:l.textField,margin:"normal",variant:"outlined"}),r.a.createElement(v.a,{id:"outlined-name",label:"location",className:l.textField,value:y,onChange:function(e){return j(e.target.value)},margin:"normal",variant:"outlined"}),r.a.createElement(w.a,{variant:"contained",color:"secondary",size:"large",className:l.button,type:"submit"},"Save")))))},Oe=n(682),ke=n(674),xe=n(675),Ce=Object(y.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(2),marginRight:e.spacing(1),marginBottom:e.spacing(2),width:"60%"},dense:{margin:e.spacing(3)},button:{margin:e.spacing(3),position:"absolute",right:e.spacing(1),bottom:e.spacing(0),width:"20%"},input:{display:"none"}}}),Se=function(e){var t,n,a=e.handleLogin,o=Ce(),l=r.a.useState(!1),c=Object(i.a)(l,2),s=c[0],u=c[1],m=r.a.useState(""),d=Object(i.a)(m,2),f=d[0],g=d[1],p=function(e){g(e.target.value),13===e.keyCode&&f&&(u(!0),a(f))};return s||(t=r.a.createElement(ke.a,{id:"alert-dialog-description",className:o.dense},"enter your email and we'll send you a link right away"),n=r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{id:"outlined-name",label:"email",className:o.textField,type:"email",value:f,onChange:p,onKeyDown:p,margin:"normal",variant:"outlined"}),r.a.createElement(w.a,{variant:"contained",color:"secondary",size:"large",className:o.button,type:"submit",onClick:function(e){e.preventDefault(),f&&(u(!0),a(f))}},"login"))),s&&(t=r.a.createElement(ke.a,{id:"alert-dialog-description",className:o.dense},"email on its way, follow the link to get news")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(xe.a,{id:"alert-dialog-title"},"newsme"),t,n))},Le=Object(y.a)(function(e){return{root:{backgroundColor:"transparent"},img:{minWidth:"100%",maxHeight:"40vh"}}}),Fe=function(e){var t,n,o,l,c,s=e.post,u=(e.getNews,e.updatePost),m=(e.numPosts,Le()),d=r.a.useState(null),f=Object(i.a)(d,2),g=f[0],p=f[1],h=r.a.useRef();return Object(a.useEffect)(function(){var e=function(e){h.current.contains(e.target)||p(null)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[]),s.content.startsWith("https")?(console.log("true"),l=r.a.createElement("img",{className:m.img,src:s.content,alt:s.content})):l=r.a.createElement(r.a.Fragment,null,s.content),s.content.length>50&&(t=r.a.createElement(z.a,null),n="..."),g!==s.id&&(o=r.a.createElement(A.a,{expandIcon:t,className:"postheader"},s.content.slice(0,40),n)),r.a.createElement(U.a,{ref:h,className:m.root,square:!0,onChange:(c=s.id,function(e,t){p(t?c:0)}),expanded:g===s.id},o,r.a.createElement(W.a,{className:"postcontent"},l),r.a.createElement("div",{className:"postlikes"},r.a.createElement(te.a,{className:m.root},r.a.createElement(ne.a,{label:"Like",onClick:function(){u(s._id)},value:s.likes.length,icon:r.a.createElement(H.a,{badgeContent:s.likes.length,color:"secondary"},r.a.createElement(re.a,null))}))))},Ie=Object(y.a)(function(e){return{textField:{marginLeft:e.spacing(2),marginRight:e.spacing(2),width:"75%"},dense:{marginTop:e.spacing(1)},button:{marginTop:e.spacing(3)},input:{display:"none"}}}),Re=function(e){var t=e.newsId,n=e.userId,o=e.handlePostBox,l=e.getNews,s=Ie(),u="http://localhost:3003",d=Object(a.useState)([]),g=Object(i.a)(d,2),p=g[0],h=g[1],E=Object(a.useState)(""),b=Object(i.a)(E,2),w=b[0],N=b[1],y=r.a.useRef(),j=r.a.useRef();Object(a.useEffect)(function(){var e=function(e){if(!y.current.contains(e.target))return o()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[o,t]),Object(a.useEffect)(function(){t&&O(t)},[t]);var O=function(e){return m.a.get(u+"/posts?nid="+e).then(function(e){return h(e.data)}).catch(function(e){return console.log(e)})},x=function(e){m.a.patch("".concat(u,"/posts?pid=").concat(e,"&uid=").concat(n)).then(function(e){var t=e.data.value,n=p.map(function(e){return e._id===t._id?e=t:e});h(n)})},C=function(e){var a={content:e,uid:n,nid:t};return m.a.post(u+"/posts/new",a).then(function(e){return e.data.ops[0]}).then(function(e){return h([e].concat(Object(c.a)(p)))}).catch(function(e){return console.log(e)})},S=function(e){return function(e){if(j.current.files[0]){var t=f.storage().ref(),n=t.child(j.current.files[0].name);n.put(j.current.files[0]).then(function(){return console.log("\u2705 uploaded ".concat(n.fullPath))}).then(function(){return t.child(j.current.files[0].name).getDownloadURL()}).then(function(e){C(e)})}}()};return r.a.createElement("div",{className:"postbox",ref:y},r.a.createElement(v.a,{id:"outlined-name",label:"post",className:s.textField,type:"text",value:w,onChange:function(e){return N(e.target.value)},onKeyDown:function(e){var t;13===(t=e).keyCode&&(N(""),C(t.target.value))},margin:"normal",variant:"outlined"}),r.a.createElement("input",{accept:"image/*",className:s.input,id:"outlined-button-file",type:"file",ref:j,onChange:function(e){return S()}}),r.a.createElement("label",{htmlFor:"outlined-button-file"},r.a.createElement(k.a,{size:"small",color:"secondary",component:"span",className:s.button},r.a.createElement(Ee.a,null))),p.map(function(e){return r.a.createElement(Fe,{key:e._id,post:e,getNews:l,updatePost:x})}))},Pe=n(661),Ue=n(676),We=n(677),Ae=n(678),Be=n(312),De=n.n(Be),ze=n(313),_e=n.n(ze),Te=function(e){var t=e.handlePopMenu,n=e.signOut,o=r.a.useRef();return Object(a.useEffect)(function(){var e=function(e){if(!o.current.contains(e.target))return t()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[t]),r.a.createElement("div",{className:"popmenu",ref:o},r.a.createElement(Pe.a,{component:"nav"},r.a.createElement(Ue.a,{button:!0,onClick:function(){Object(s.navigate)("/")}},r.a.createElement(We.a,null,r.a.createElement(De.a,null)),r.a.createElement(Ae.a,{primary:"Home"})),r.a.createElement(Ue.a,{button:!0,onClick:function(){Object(s.navigate)("/new")}},r.a.createElement(We.a,null),r.a.createElement(Ae.a,{primary:"Add news"})),r.a.createElement(Ue.a,{button:!0,onClick:function(){Object(s.navigate)("/profile")}},r.a.createElement(We.a,null,r.a.createElement(le.a,null)),r.a.createElement(Ae.a,{primary:"Personal info"})),r.a.createElement(Ue.a,{button:!0,onClick:function(){return n()}},r.a.createElement(We.a,null,r.a.createElement(_e.a,null)),r.a.createElement(Ae.a,{primary:"Logout"}))))},Me=function(e){var t=e.user,n=e.handleLogin;return{message:t?r.a.createElement("h1",null,"not found"):r.a.createElement(Se,{handleLogin:n})}},Ve=(n(615),n(314)),qe=Object(Ve.a)({palette:{type:"dark"},typography:{fontFamily:["-apple-system","Roboto"].join(",")}}),He={handleCodeInApp:!0,url:"http://localhost:3000"},Ke="http://localhost:3003";h.a.configure({adapter:new b.a}),f.initializeApp(g);var Je=f.auth(),Xe=Object(d.a)({firebaseAppAuth:Je})(function(e){var t=e.user,n=e.signOut,o=Object(a.useState)([]),l=Object(i.a)(o,2),u=l[0],d=l[1],g=Object(a.useState)(!1),p=Object(i.a)(g,2),h=p[0],E=p[1],b=Object(a.useState)(null),v=Object(i.a)(b,2),w=v[0],N=v[1],y=Object(a.useState)(!1),j=Object(i.a)(y,2),O=j[0],k=j[1],x=Object(a.useState)([]),C=Object(i.a)(x,2),S=C[0],L=C[1],F=window.localStorage.getItem("emailForSignIn");Object(a.useEffect)(function(){t&&m.a.get(Ke+"/news?uid="+t.uid).then(function(e){return d(e.data)})},[t]);var I=function(e){e||(e={uid:t.uid,displayName:t.displayName,email:t.email,emailVerified:t.emailVerified,photoURL:t.photoURL,location:""}),m.a.post(Ke+"/users",e).catch(function(e){return console.log(e)})};Object(a.useEffect)(function(){if(!F&&f.auth().isSignInWithEmailLink(window.location.href))return Object(s.navigate)("/");F&&f.auth().signInWithEmailLink(F,window.location.href).then(function(){return window.localStorage.removeItem("emailForSignIn")}).then(function(){return I()}).then(function(){return Object(s.navigate)("/")}).catch(function(e){return console.log(e)})},[F]);var R,P,U,W,A,B=function(){return m.a.get("".concat(Ke,"/likes?uid=").concat(t.uid))},D=function(e){return m.a.patch(Ke+"/news?uid="+t.uid+"&nid="+e).then(function(e){var t=e.data.value;d(u.map(function(e){return e._id===t._id?e=t:e}))}).catch(function(e){return console.log(e)})},z=function(e){return m.a.get(Ke+"/news?uid="+e).then(function(e){return L(e.data)})},_=function(e){var n;return n=e,m.a.post(Ke+"/news/url?url=".concat(n,"&uid=").concat(t.uid)).then(function(e){return d([].concat(Object(c.a)(u),[e.data.ops[0]]))}).catch(function(e){return console.log(e)}),Object(s.navigate)("/")},M=function(e,n){var a=f.storage().ref(),r=a.child(e.name);return r.put(e).then(function(){return console.log("\u2705 uploaded ".concat(r.fullPath))}).then(function(){return a.child(e.name).getDownloadURL()}).then(function(e){return a={title:n,image:e,uid:t.uid},m.a.post(Ke+"/news",a).then(function(e){return d([].concat(Object(c.a)(a),[e.data.ops[0]]))}).catch(function(e){return console.log(e)});var a}),Object(s.navigate)("/")},V=function(e){f.auth().sendSignInLinkToEmail(e,He).then(function(){return window.localStorage.setItem("emailForSignIn",e)}).then(function(){return Object(s.navigate)("/")}).catch(function(e){return console.log(e)})},q=function(e){return N(e),E(!h)},H=function(){return k(!O)};h&&(R=r.a.createElement(Re,{handlePostBox:q,userId:t.uid,newsId:w,getNews:function(){return m.a.get(Ke+"/news?uid="+t.uid).then(function(e){return d(e.data)})}})),O&&(P=r.a.createElement(Te,{handlePopMenu:H,signOut:n})),A=S.length>0?S:u,t?(W={"/":function(){return r.a.createElement(me,{getNews:z,news:A,handlePostBox:q,handleNewsLike:D})},"/login":function(){return r.a.createElement(Se,{handleLogin:V})},"/profile":function(){return r.a.createElement(je,{postUser:I,fuser:t,getLikes:B})},"/new":function(){return r.a.createElement(T,{handleUrl:_,handleFile:M})}},U=r.a.createElement(ee,{searchNews:function(e){m.a.get(Ke+"/search?q=".concat(e)).then(function(e){return L(e.data)})},popmenu:H})):W={"/":function(){return r.a.createElement(Se,{handleLogin:V})}};var K=Object(s.useRoutes)(W);return r.a.createElement(r.a.Fragment,null,void 0,U,R,P,K||r.a.createElement(Me,{user:t}))}),Ye=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $e(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ge=n(683),Qe=n(679);f.auth().onAuthStateChanged(function(){return l.a.render(r.a.createElement(Ge.a,{theme:qe},r.a.createElement(Qe.a,null),r.a.createElement(Xe,null)),document.getElementById("root"))}),function(e){if("serviceWorker"in navigator){if(new URL("/oli-gra/newsme",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/oli-gra/newsme","/service-worker.js");Ye?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):$e(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):$e(t,e)})}}()}},[[322,1,2]]]);
//# sourceMappingURL=main.3be610d6.chunk.js.map