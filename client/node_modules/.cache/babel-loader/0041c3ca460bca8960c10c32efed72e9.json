{"ast":null,"code":"import _slicedToArray from \"/Users/oli-gra/Dev/newsme/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/oli-gra/Dev/newsme/client/src/components/Profile.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport * as firebase from 'firebase/app';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport FavoriteIcon from '@material-ui/icons/FavoriteBorder';\nimport SubjectIcon from '@material-ui/icons/Subject';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles(theme => ({\n  textField: {\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(1)\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  input: {\n    display: 'none'\n  },\n  heading: {\n    marginLeft: theme.spacing(3),\n    marginTop: theme.spacing(2)\n  },\n  profile: {\n    width: '60%'\n  },\n  profilecontainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  avatar: {\n    width: '4em',\n    height: '4em'\n  },\n  wrapper: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  column: {\n    minWidth: '10%'\n  },\n  row: {\n    display: 'flex',\n    flexDirection: 'row'\n  }\n}));\n\nconst Profile = ({\n  fuser,\n  postUser,\n  getLikes,\n  getFollows,\n  getBlasts\n}) => {\n  const classes = useStyles();\n  const url = 'http://localhost:3003'; // Node server\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        displayName = _useState2[0],\n        setName = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        email = _useState4[0],\n        setEmail = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        location = _useState6[0],\n        setLoc = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        photoUrl = _useState8[0],\n        setPic = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        likes = _useState10[0],\n        setLikes = _useState10[1];\n\n  const _useState11 = useState([]),\n        _useState12 = _slicedToArray(_useState11, 2),\n        tags = _useState12[0],\n        setTags = _useState12[1];\n\n  const _useState13 = useState([]),\n        _useState14 = _slicedToArray(_useState13, 2),\n        follows = _useState14[0],\n        setFollows = _useState14[1];\n\n  const _useState15 = useState([]),\n        _useState16 = _slicedToArray(_useState15, 2),\n        blasts = _useState16[0],\n        setBlasts = _useState16[1];\n\n  const file = React.useRef();\n  useEffect(() => {\n    axios.get(url + '/user?uid=' + fuser.uid).then(res => {\n      console.log(res);\n      setName(res.data.displayName);\n      setEmail(fuser.email);\n      setLoc(res.data.location);\n      setPic(res.data.photoUrl);\n      setTags(res.data.tags);\n    });\n    getFollows().then(res => setFollows(res.data.follows)).catch(err => console.log(err));\n    getBlasts().then(res => setBlasts(res.data.blasts)).catch(err => console.log(err));\n    getLikes().then(res => setLikes(res.data.likes)).catch(err => console.log(err));\n  }, [getLikes, fuser.email, fuser.uid, getFollows, getBlasts]);\n\n  const saveInput = e => {\n    e.preventDefault();\n\n    if (file.current.files[0]) {\n      const storageRef = firebase.storage().ref();\n      const imageRef = storageRef.child(file.current.files[0].name);\n      imageRef.put(file.current.files[0]).then(() => console.log(\"\\u2705 uploaded \".concat(imageRef.fullPath))).then(() => storageRef.child(file.current.files[0].name).getDownloadURL()).then(url => {\n        console.log(url);\n        let user = {\n          uid: fuser.uid,\n          displayName: displayName,\n          email: email,\n          location: location,\n          photoUrl: url\n        };\n        postUser(user);\n      });\n    }\n  };\n\n  const handleDelete = () => {};\n\n  let avatar;\n\n  if (!photoUrl) {\n    avatar = React.createElement(React.Fragment, null, React.createElement(\"input\", {\n      accept: \"image/*\",\n      className: classes.input,\n      id: \"outlined-button-file\",\n      type: \"file\",\n      ref: file,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"outlined-button-file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Fab, {\n      size: \"large\",\n      color: \"secondary\",\n      component: \"span\",\n      className: classes.button,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(AddIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }))));\n  } else {\n    avatar = React.createElement(Avatar, {\n      className: classes.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: photoUrl,\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }));\n  }\n\n  return React.createElement(\"div\", {\n    className: classes.profilecontainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: classes.profile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.heading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, \"stats\")), React.createElement(\"div\", {\n    className: classes.wrapper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    className: classes.column,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, avatar), React.createElement(CardContent, {\n    className: classes.column,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, tags.map(tag => React.createElement(Chip, {\n    key: tag,\n    label: tag,\n    onDelete: handleDelete,\n    className: classes.chip,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  })))), React.createElement(CardContent, {\n    className: classes.row,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(Badge, {\n    badgeContent: likes,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(FavoriteIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: classes.textField,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, \"likes\")), React.createElement(\"div\", {\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(Badge, {\n    badgeContent: follows,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, React.createElement(SupervisorAccountIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: classes.textField,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"follows\")), React.createElement(\"div\", {\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(Badge, {\n    badgeContent: blasts,\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }, React.createElement(SubjectIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    className: classes.textField,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, \"blasts\")))), React.createElement(ExpansionPanel, {\n    className: classes.profile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(ExpansionPanelSummary, {\n    expandIcon: React.createElement(ExpandMoreIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }),\n    \"aria-controls\": \"panel1c-content\",\n    id: \"panel1c-header\",\n    className: \"profilerow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }, \"private\")), React.createElement(ExpansionPanelDetails, {\n    className: \"profilecolumn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: saveInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"outlined-name\",\n    label: \"name\",\n    className: classes.textField,\n    value: displayName,\n    onChange: event => setName(event.target.value),\n    margin: \"normal\",\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    disabled: true,\n    id: \"outlined-disabled\",\n    label: email,\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"outlined-name\",\n    label: \"location\",\n    className: classes.textField,\n    value: location,\n    onChange: event => setLoc(event.target.value),\n    margin: \"normal\",\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    size: \"large\",\n    className: classes.button,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }, \"Save\")))));\n};\n\nexport default Profile;","map":{"version":3,"sources":["/Users/oli-gra/Dev/newsme/client/src/components/Profile.js"],"names":["React","useState","useEffect","axios","firebase","TextField","Button","ExpansionPanel","ExpansionPanelDetails","ExpansionPanelSummary","Typography","ExpandMoreIcon","SupervisorAccountIcon","FavoriteIcon","SubjectIcon","Fab","AddIcon","Card","CardContent","Badge","Avatar","Chip","makeStyles","useStyles","theme","textField","marginLeft","spacing","marginRight","button","margin","input","display","heading","marginTop","profile","width","profilecontainer","flexDirection","alignItems","justifyContent","avatar","height","wrapper","column","minWidth","row","Profile","fuser","postUser","getLikes","getFollows","getBlasts","classes","url","displayName","setName","email","setEmail","location","setLoc","photoUrl","setPic","likes","setLikes","tags","setTags","follows","setFollows","blasts","setBlasts","file","useRef","get","uid","then","res","console","log","data","catch","err","saveInput","e","preventDefault","current","files","storageRef","storage","ref","imageRef","child","name","put","fullPath","getDownloadURL","user","handleDelete","map","tag","chip","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport * as firebase from 'firebase/app'\n\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport Typography from '@material-ui/core/Typography'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount'\nimport FavoriteIcon from '@material-ui/icons/FavoriteBorder'\nimport SubjectIcon from '@material-ui/icons/Subject'\nimport Fab from '@material-ui/core/Fab'\nimport AddIcon from '@material-ui/icons/Add';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Badge from '@material-ui/core/Badge'\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(theme => ({\n   textField: {\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(1),\n   },\n   button: {\n      margin: theme.spacing(1),\n   },\n   input: {\n      display: 'none',\n   },\n   heading: {\n      marginLeft: theme.spacing(3),\n      marginTop: theme.spacing(2),\n   },\n   profile: {\n      width: '60%',\n   },\n   profilecontainer: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n   },\n   avatar: {\n      width: '4em',\n      height: '4em',\n   },\n   wrapper: {\n      display: 'flex',\n      justifyContent: 'space-between',\n   },\n   column: {\n      minWidth: '10%',\n   },\n   row: {\n      display: 'flex',\n      flexDirection: 'row',\n   }\n}))\n\nconst Profile = ({ fuser, postUser, getLikes, getFollows, getBlasts }) => {\n\n   const classes = useStyles()\n\n   const url = 'http://localhost:3003' // Node server\n\n   const [displayName, setName] = useState('')\n   const [email, setEmail] = useState('')\n   const [location, setLoc] = useState('')\n   const [photoUrl, setPic] = useState('')\n   const [likes, setLikes] = useState([])\n   const [tags, setTags] = useState([])\n   const [follows, setFollows] = useState([])\n   const [blasts, setBlasts] = useState([])\n\n   const file = React.useRef()\n\n   useEffect(() => {\n      axios.get(url + '/user?uid=' + fuser.uid)\n         .then(res => {\n            console.log(res)\n            setName(res.data.displayName)\n            setEmail(fuser.email)\n            setLoc(res.data.location)\n            setPic(res.data.photoUrl)\n            setTags(res.data.tags)\n         })\n\n      getFollows()\n         .then(res => setFollows(res.data.follows))\n         .catch(err => console.log(err))\n\n      getBlasts()\n         .then(res => setBlasts(res.data.blasts))\n         .catch(err => console.log(err))\n\n      getLikes()\n         .then(res => setLikes(res.data.likes))\n         .catch(err => console.log(err))\n   }, [getLikes, fuser.email, fuser.uid, getFollows, getBlasts])\n\n\n   const saveInput = e => {\n      e.preventDefault()\n      if (file.current.files[0]) {\n         const storageRef = firebase.storage().ref()\n         const imageRef = storageRef.child(file.current.files[0].name)\n         imageRef.put(file.current.files[0])\n            .then(() => console.log(`✅ uploaded ${imageRef.fullPath}`))\n            .then(() => storageRef.child(file.current.files[0].name).getDownloadURL())\n            .then(url => {\n               console.log(url)\n               let user = {\n                  uid: fuser.uid,\n                  displayName: displayName,\n                  email: email,\n                  location: location,\n                  photoUrl: url,\n               }\n               postUser(user)\n            })\n      }\n   }\n\n   const handleDelete = () => {\n\n   }\n   let avatar\n   if (!photoUrl) {\n      avatar = <><input\n         accept=\"image/*\"\n         className={classes.input}\n         id=\"outlined-button-file\"\n         type=\"file\"\n         ref={file}\n      />\n         <label htmlFor=\"outlined-button-file\">\n            <Fab\n               size=\"large\"\n               color=\"secondary\"\n               component=\"span\"\n               className={classes.button}><AddIcon />\n            </Fab>\n         </label></>\n   }\n   else {\n      avatar =\n         <Avatar className={classes.avatar}>\n            <img src={photoUrl} alt='avatar' />\n         </Avatar>\n   }\n\n   return (\n      <div className={classes.profilecontainer}>\n         <Card className={classes.profile}>\n            <div>\n               <Typography className={classes.heading}>stats</Typography>\n            </div>\n            <div className={classes.wrapper}>\n               <CardContent className={classes.column}>\n                  {avatar}\n               </CardContent>\n               <CardContent className={classes.column}>\n                  {tags.map(tag => <Chip\n                     key={tag}\n                     label={tag}\n                     onDelete={handleDelete}\n                     className={classes.chip}\n                     color=\"secondary\"\n                  />)}\n               </CardContent>\n            </div>\n            <CardContent className={classes.row}>\n               <div className={classes.button}>\n\n                  <Badge\n                     badgeContent={likes}\n                     color=\"secondary\">\n                     <FavoriteIcon /></Badge>\n                  <span className={classes.textField}>likes</span>\n               </div>\n               <div className={classes.button}>\n                  <Badge\n                     badgeContent={follows}\n                     color=\"secondary\">\n                     <SupervisorAccountIcon /></Badge>\n                  <span className={classes.textField}>follows</span>\n               </div>\n               <div className={classes.button}>\n                  <Badge\n                     badgeContent={blasts}\n                     color=\"secondary\">\n                     <SubjectIcon /></Badge>\n                  <span className={classes.textField}>blasts</span>\n               </div>\n            </CardContent>\n         </Card>\n\n         <ExpansionPanel className={classes.profile}>\n\n            <ExpansionPanelSummary\n               expandIcon={<ExpandMoreIcon />}\n               aria-controls=\"panel1c-content\"\n               id=\"panel1c-header\"\n               className='profilerow'>\n               <Typography>private</Typography>\n            </ExpansionPanelSummary>\n\n            <ExpansionPanelDetails className='profilecolumn'>\n               <form onSubmit={saveInput}>\n                  <TextField\n                     id=\"outlined-name\"\n                     label='name'\n                     className={classes.textField}\n                     value={displayName}\n                     onChange={event => setName(event.target.value)}\n                     margin=\"normal\"\n                     variant=\"outlined\"\n                  />\n                  <TextField\n                     disabled\n                     id=\"outlined-disabled\"\n                     label={email}\n                     className={classes.textField}\n                     margin=\"normal\"\n                     variant=\"outlined\"\n                  />\n                  <TextField\n                     id=\"outlined-name\"\n                     label='location'\n                     className={classes.textField}\n                     value={location}\n                     onChange={event => setLoc(event.target.value)}\n                     margin=\"normal\"\n                     variant=\"outlined\"\n                  />\n                  <Button\n                     variant=\"contained\"\n                     color=\"secondary\"\n                     size='large'\n                     className={classes.button}\n                     type=\"submit\">\n                     Save\n                  </Button>\n               </form>\n            </ExpansionPanelDetails>\n         </ExpansionPanel>\n      </div>\n   )\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}